# Architecture

## Stack

- React 19 + TypeScript + Vite
- Tailwind CSS v4
- SpacetimeDB typed client (`src/spacetime/generated/*`)
- React Router for route-level pages

## Directory Layout

```text
frontend/
├── src/
│   ├── main.tsx                  # app entry and route table
│   ├── routes/                   # top-level pages
│   ├── components/
│   │   ├── domain/               # product-specific widgets
│   │   ├── layout/               # shell and nav scaffolding
│   │   └── ui/                   # reusable visual primitives
│   ├── spacetime/
│   │   ├── Provider.tsx          # DB connection config
│   │   ├── hooks.ts              # typed table selectors + enums
│   │   └── generated/            # autogenerated bindings (do not edit)
│   └── lib/                      # shared utilities
└── docs/
```

## Route Map

- `/` -> `Dashboard`
- `/activity` -> `ActivityPage`
- `/ideas` -> `IdeasListPage`
- `/ideas/:id` -> `IdeaPage`
- `/tasks` -> `TasksListPage`
- `/projects/:id` -> `ProjectPage`

## Data Flow

1. `SpacetimeProvider` creates a `DbConnection` with host, db, and token.
2. Pages and components subscribe to tables through `useTable` wrappers in `src/spacetime/hooks.ts`.
3. Domain components project typed rows into route-local view models.
4. UI animates transitions with Motion without storing duplicate global state.

## Regeneration Contract

- Any schema change in `stdb/` must be followed by binding regeneration into `src/spacetime/generated/`.
- Treat generated files as build artifacts; never hand-edit them.
